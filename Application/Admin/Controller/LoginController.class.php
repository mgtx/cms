<?php/** * Created by PhpStorm. * User: milo * Date: 15/3/23 * Time: 14:05 */namespace Admin\Controller;use Think\Controller;class LoginController extends Controller{	public function index(){		layout(false);		if(IS_POST){ 			$username = I('username');			$password = I('password');			if(empty($username) || empty($password)){				$this->error('用户名或密码不可为空！');			}			$model = M('admin');			$where = array();			$where['username'] = $username;			$where['password'] = md5($password);			$items = $model->where($where)->select();			if(!empty($items[0])){				$item = $items[0];				if(!empty($item)){					$login = array();					$login['uid'] = $item['id'];					$login['uname'] = $item['username'];					session('auth',$login);					//$this->success('登录成功！',substr(U('Content/index'),10));					$this->redirect('Index/index');				}			}			/*echo U('Login/index');die;			$this->error('请重新登录!',substr(U('Login/index'),12));*/			$this->error('请重新登录!',U('Login/index'));		 	$this->redirect('Index/index');		}else{			$this->display();		}	}	public function logout(){		session('auth',null);		session('Syn',null);		//$this->success('退出登录',U('Login/index'));		$this->redirect('Login/index');	}}